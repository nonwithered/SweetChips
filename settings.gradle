import java.nio.file.Files

rootProject.name = 'SweetChips'

include ':test'
include ':test:demo'
include ':utility'
include ':visitors'
include ':visitors:demo'
include ':plugin4gradle'
include ':plugin4gradle:demo'
include ':trace-weaver'
include ':const-sweeper'

gradle.ext.buildUri = uri('./build')

gradle.ext.applyPlugin4Gradle = {
    Files.exists(rootProject.projectDir.toPath()
            .resolve('build')
            .resolve('org')
            .resolve('sweetchips')
            .resolve('plugin4gradle')
            .resolve('1.0.0')
            .resolve('plugin4gradle-1.0.0.jar')
    )
}

gradle.ext.applyVisitors = {
    Files.exists(rootProject.projectDir.toPath()
            .resolve('build')
            .resolve('org')
            .resolve('sweetchips')
            .resolve('visitors')
            .resolve('1.0.0')
            .resolve('visitors-1.0.0.jar')
    )
}

gradle.ext.applyTraceWeaver = {
    Files.exists(rootProject.projectDir.toPath()
            .resolve('build')
            .resolve('org')
            .resolve('sweetchips')
            .resolve('trace-weaver')
            .resolve('1.0.0')
            .resolve('trace-weaver-1.0.0.jar')
    )
}
