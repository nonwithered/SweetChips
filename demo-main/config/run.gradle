def jarPath = project.buildDir.toPath()
        .resolve('libs')
        .resolve("${project.name}.jar")

task testDemo(type: Exec) {
    dependsOn project(':demo-main').tasks.assemble
    commandLine 'java',
            '-jar', "${jarPath.toAbsolutePath()}"
    doFirst {
        standardOutput = System.out
        errorOutput = System.err
    }
}